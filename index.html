<!DOCTYPE html>
<html>
<head>
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3FS6H7R7X5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3FS6H7R7X5');
</script>
  
  
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/styles.css">
	
	<meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, user-scalable=yes">
        
        <!-- ios support -->
        <meta name="apple-mobile-web-app-status-bar" content="#db4938" />
        <meta name="theme-color" content="#db4938" />
        
        <meta name="application-name" content="Pi Example">

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="assets/js/html5shiv-pre3.6.js"></script>
        <![endif]-->

       <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
        <!--<script src="https://downloads.minepi.com/sdk/v1/dev.js"></script>-->
        <!--<script src="https://downloads.minepi.com/sdk/v1/prod.js"></script>-->
        <script src="https://sdk.minepi.com/pi-sdk.js"></script>
        
        	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
     
<link rel="icon" 
      type="image/png" 
      href="../img/logo.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap" rel="stylesheet">
	
</head>
<body>
<img id="title" width="250" style="position:relative;top:0"
src="https://app.pi-lottery.co.uk/img/logo.png"></img>
  
	<div id="last-draw">
	<h3>Last week's draw was:</h3>
    <h2>15663π</h2>
    </div>

  <div id="notice">
    <h3>Our first Test-Pi draw will commence next week!</h3><h3>Enter now!</h3>
  </div>
  
	<div class="border">
		<h3>Enter our weekly draw for only: <h1>1π</h1></h3>
  <button class="button_click">Play to Win!</button>
    <h3 style="color: #FCB44B; background: #642A82; display: block;">Recieve an 80% payout!</h3>
    <h3 style="color: #FCB44B; background: #642A82;">10% goes to charitable causes!</h3>
<div id="form" style="display: none;">
  <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/viewform?embedded=true" width="100%" height="800">Loading…</iframe>
		</div><!--</div>
  
	<div class="border">-->
    <h3>Or buy 10 tickets for just:</h3><h1>8π</h1>
		<button class="play_ten">Win More!</button>
	</div>
	
	<h3 style="background: #FCB44B; border-radius: 5px;">Last week's winner was:<h2 class="gap">piuser2</h2></h3>

  <div onclick="location.href='/html/winners.html';">
<h3 style="background: #FCB44B; border-radius: 5px;">Hear from our previous winners:</h3>
<div class="border">
  <h4>Join our first draw now to be Lottery.pi's 1st Winner!</h4>
    </div></div>

  <div onclick="location.href='/html/charity.html';">
  <h3 style="background: #FCB44B; border-radius: 5px;">Meet our Charitable Partners:</h3>
  <div class="border">
    <h3>Contact info@pi-lottery.co.uk to express interest in a partnership</h3>
    </div></div>
  
  <h4>Be Gamble Aware</h4>
  <h4>Pi, Pi Network and the Pi logo are trademarks of the Pi Community Company.</h4>
  
<div class="flier">
  <img src="https://app.pi-lottery.co.uk/img/pi-logo.png"></img>
</div>
<div class="flier2">
  <img src="https://app.pi-lottery.co.uk/img/pi-logo.png"></img>
</div>
<div class="flier3">
  <img src="https://app.pi-lottery.co.uk/img/pi-logo.png"></img>
</div>
<div class="flier4">
  <img src="https://app.pi-lottery.co.uk/img/pi-logo.png"></img>
</div>
<div class="flier">
  <img src="https://app.pi-lottery.co.uk/img/pi-logo.png"></img>
</div>
<div class="flierpie">
  <img src="https://app.pi-lottery.co.uk/img/pie.png"></img>
</div>

	<script type="text/javascript">
		const playLottery = () => {
        document.getElementById("form").style.display = "block";
        alert("You've entered! Please fill in this form to complete your submission!");
      };

//const username = auth.user.username;
		
function playOne(username) {
	alert("You've entered!");
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
};
		
function playTen(username) {
	alert("You've got 10 tickets!");
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
};
		
	</script>
	<script type="text/javascript">
//Frontend Pi SDK
            $( document ).ready(function() {
                const Pi = window.Pi;
                Pi.init({ version: "2.0" });

                //alert(PiNetworkClient);
	//	                   $( ".button_click" ).click(function() {
          //          transfer();
            //    });

                async function auth() {
                    try {
                        // Identify the user with their username / unique network-wide ID, and get permission to request payments from them.
                        const scopes = ['username', 'payments'];
                        function onIncompletePaymentFound(payment) {
                            
                            var data = {
                                    'action': 'complete',
                                    'paymentId': payment.identifier,
                                    'txid': payment.transaction.txid,
                                    'app_client': 'auth_example'
                                };
                            return $.post( "https://latin-chain.com/server1.php", data).done(function(data) {
                                $(".button_click").prop( "disabled", false );
                            }).fail(function() {
                                $(".button_click").prop( "disabled", false );
                            });
                        }; // Read more about this in the SDK reference

                        Pi.authenticate(scopes, onIncompletePaymentFound).then(function(auth) {
                          $( ".button_click" ).click(function() {
                                    transfer();
                            });
			var username = auth.user.username;
                            alert('Hello ' + username);
                        }).catch(function(error) {
                          console.error(error);
                        });
                    } catch (err) {
                        alert(err);
                        // Not able to fetch the user
                    }
                }
		    
                async function transfer() {
                    try {
                        const payment = Pi.createPayment({
                          // Amount of π to be paid:
                          amount: 1,
                          // An explanation of the payment - will be shown to the user:
                          memo: "Demo transfer request", // e.g: "Digital kitten #1234",
                          // An arbitrary developer-provided metadata object - for your own usage:
                          metadata: { paymentType: "donation" /* ... */ }, // e.g: { kittenId: 1234 }
                        }, {
                          // Callbacks you need to implement - read more about those in the detailed docs linked below:
                          onReadyForServerApproval: function(paymentId) {
                              var data = {
                                        'action': 'approve',
                                        'paymentId': paymentId,
                                        'txid': '',
                                        'app_client': 'auth_example'
                                    };
                              return $.post( "https://latin-chain.com/server1.php", data).done(function(data) {
                                    $(".button_click").prop( "disabled", false );
                                }).fail(function() {
                                    $(".button_click").prop( "disabled", false );
                                });
                          },
                          onReadyForServerCompletion: function(paymentId, txid) {
                                var data = {
                                    'action': 'complete',
                                    'paymentId': paymentId,
                                    "txid": txid,
                                    'app_client': 'auth_example'
                                };
				  playOne();
			//	  playLottery();
                        //    	location.href='https://docs.google.com/forms/d/e/1FAIpQLSenxSS6P0QODzBkxLaw_pmDwN56je0p41M-p-XvnyKxnkklJQ/formResponse?usp=pp_url&entry.407263455='+username;
                                return $.post( "https://latin-chain.com/server1.php", data).done(function(data) {
                                    $(".button_click").prop( "disabled", false );
                                }).fail(function() {
                                    $(".button_click").prop( "disabled", false );
                                });
                          },
                          onCancel: function(paymentId) { $(".button_click").prop( "disabled", false ); /* ... */ },
                          onError: function(error, payment) { $(".button_click").prop( "disabled", false ); /* ... */ },
                        });
                    } catch(err) {
                        $(".button_click").prop( "disabled", false );
                        alert(err);
                        // Technical problem (eg network failure). Please try again
                    }
                }

                auth();
            });
	</script>
</script>
	<script type="text/javascript">
//Frontend Pi SDK
            $( document ).ready(function() {
                const Pi = window.Pi;
                Pi.init({ version: "2.0" });

                //alert(PiNetworkClient);
		                   $( ".play_ten" ).click(function() {
                    transfer();
                });

                async function auth() {
                    try {
                        // Identify the user with their username / unique network-wide ID, and get permission to request payments from them.
                        const scopes = ['username', 'payments'];
                        function onIncompletePaymentFound(payment) {
                            
                            var data = {
                                    'action': 'complete',
                                    'paymentId': payment.identifier,
                                    'txid': payment.transaction.txid,
                                    'app_client': 'auth_example'
                                };
                            return $.post( "https://latin-chain.com/server1.php", data).done(function(data) {
                                $(".play_ten").prop( "disabled", false );
                            }).fail(function() {
                                $(".play_ten").prop( "disabled", false );
                            });
                        }; // Read more about this in the SDK reference

                        Pi.authenticate(scopes, onIncompletePaymentFound).then(function(auth) {
                          $( ".play_ten" ).click(function() {
                                    transfer();
                            });
		//	const username = auth.user.username;
                            //alert('Hello ' + auth.user.username);
                        }).catch(function(error) {
                          console.error(error);
                        });
                    } catch (err) {
                        alert(err);
                        // Not able to fetch the user
                    }
                }
		    
                async function transfer() {
                    try {
                        const payment = Pi.createPayment({
                          // Amount of π to be paid:
                          amount: 8,
                          // An explanation of the payment - will be shown to the user:
                          memo: "Demo transfer request", // e.g: "Digital kitten #1234",
                          // An arbitrary developer-provided metadata object - for your own usage:
                          metadata: { paymentType: "donation" /* ... */ }, // e.g: { kittenId: 1234 }
                        }, {
                          // Callbacks you need to implement - read more about those in the detailed docs linked below:
                          onReadyForServerApproval: function(paymentId) {
                              var data = {
                                        'action': 'approve',
                                        'paymentId': paymentId,
                                        'txid': '',
                                        'app_client': 'auth_example'
                                    };
                              return $.post( "https://latin-chain.com/server1.php", data).done(function(data) {
                                    $(".play_ten").prop( "disabled", false );
                                }).fail(function() {
                                    $(".play_ten").prop( "disabled", false );
                                });
                          },
                          onReadyForServerCompletion: function(paymentId, txid) {
                                var data = {
                                    'action': 'complete',
                                    'paymentId': paymentId,
                                    "txid": txid,
                                    'app_client': 'auth_example'
                                };
				  playTen();
                               return $.post( "https://latin-chain.com/server1.php", data).done(function(data) {
                                    $(".play_ten").prop( "disabled", false );
                                }).fail(function() {
                                    $(".play_ten").prop( "disabled", false );
                                });
                          },
                          onCancel: function(paymentId) { $(".button_click").prop( "disabled", false ); /* ... */ },
                          onError: function(error, payment) { $(".button_click").prop( "disabled", false ); /* ... */ },
                        });
                    } catch(err) {
                        $(".play_ten").prop( "disabled", false );
                        alert(err);
                        // Technical problem (eg network failure). Please try again
                    }
                }

                auth();
            });
	</script>
</body>

</html>
